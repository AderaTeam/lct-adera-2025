<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>train_sentiment_models.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>train sentiment models</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/index-DKEudB02.js"></script>
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.16.0/dist/assets/index-Cx0bsY1w.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "train_sentiment_models.py",
            "mode": "read",
            "version": "0.16.0",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "display": {"cell_output": "above", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": true}}, "package_management": {"manager": "poetry"}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo\nimport plotly.express as pex\nfrom sklearn.metrics import classification_report\nfrom time import monotonic\n\nimport polars as pl\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\n\nimport spacy\nfrom sentence_transformers import SentenceTransformer\nfrom catboost import CatBoostClassifier, CatBoostRegressor", "code_hash": "61296fe7cb1dceefa3f8d3ab3615db86", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "EMBEDDINGS_MODEL_NAMES = [\n    \"deepvk/USER-base\",\n    \"ai-forever/sbert_large_nlu_ru\",\n]\nmo.md('\u0411\u044b\u043b\u0438 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u044d\u043c\u0431\u0435\u0434\u0438\u043d\u0433\u043e\u0432\\n\\n' + '\\n'.join(f\"- {i}\" for i in EMBEDDINGS_MODEL_NAMES))", "code_hash": "0bd631c2057f64ef4a873e9722c33cc1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "_"}, {"code": "def sentence_transformers_vectorizer(texts, model: SentenceTransformer):\n    return model.encode(texts, normalize_embeddings=True, prompt_name='document', convert_to_numpy=True)\n\nSENTENCE_TRANSFORMERS_MODELS_DICT = dict(zip(EMBEDDINGS_MODEL_NAMES, map(SentenceTransformer, EMBEDDINGS_MODEL_NAMES)))\n", "code_hash": "1e26a7d11878946cd0559c2e9300a9c1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "_"}, {"code": "mo.md('\u0412\u043e\u0437\u043c\u0451\u043c \u044d\u0432\u0440\u0438\u0441\u0442\u0438\u043a\u0443, \u0447\u0442\u043e \u0440\u044d\u0439\u0442\u0438\u043d\u0433=\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430')", "code_hash": "16083ab9ed71c17a44839a07acff181c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "XeCI", "name": "_"}, {"code": "DATA = pl.read_csv('../DATA/full_dataset_banki_ru.csv')\nUSEFULL_DATA = DATA[:, ['text', 'grade']]", "code_hash": "20d475861ed1b12eebf201be9abec7f0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "_"}, {"code": "pex.histogram(DATA['grade'])", "code_hash": "d5db4be614c5f6ae6e55f6d80d980859", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "mo.md('\u041a\u0430 \u0432\u0438\u0434\u043d\u043e \u0438\u0437 \u0441\u0442\u043e\u043b\u0431\u0447\u0430\u0442\u043e\u0439 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u044b, \u0435\u0441\u0442\u044c \u0441\u0438\u043b\u043d\u044b\u0439 \u0434\u0438\u0441\u0431\u0430\u043b\u0430\u043d\u0441 \u0432 \u043d\u0435\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u043e')", "code_hash": "e2f2828e7b582af90b92252c78b69382", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "knfx", "name": "_"}, {"code": "mo.md('# **\u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043c\u044b \u0434\u0438\u0441\u0431\u0430\u043b\u0430\u043d\u0441\u0430**')", "code_hash": "cb0c4d56d7c4fda3a06d016e7b9ea910", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SlIb", "name": "_"}, {"code": "mo.md(r\"\"\"\u0414\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f stratify'\u043d\u0443\u0442\u044b\u043c \u0440\u0430\u0437\u0431\u0438\u0435\u043d\u0438\u0435\u043c \u043d\u0430 \u0432\u044b\u0431\u043e\u0440\u043a\u0438\"\"\")", "code_hash": "6f21c9e214366a08f7d8a73688c6fa60", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "DsDu", "name": "_"}, {"code": "X, Y = USEFULL_DATA['text'], USEFULL_DATA['grade']\nX_train, X_test, Y_train, Y_test = train_test_split(X, Y, stratify=Y)", "code_hash": "ee06ed5679121fe85db5ecdbc170d835", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "LVIx", "name": "_"}, {"code": "VECTORIZED_X_train = {\n    i: sentence_transformers_vectorizer(model=m,texts=X_train) for i, m in SENTENCE_TRANSFORMERS_MODELS_DICT.items()\n}\n\nVECTORIZED_X_test = {\n    i: sentence_transformers_vectorizer(model=m,texts=X_test) for i, m in SENTENCE_TRANSFORMERS_MODELS_DICT.items()\n}\n", "code_hash": "07d55fecf871c9973bdf6772f927fcc3", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "NfgY", "name": "_"}, {"code": "mo.md(r\"\"\"\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u0441\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u043a\u0443\"\"\")", "code_hash": "ab3b2ed906a80b7abfe4da16fcb10a84", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bFDL", "name": "_"}, {"code": "from imblearn.under_sampling import CondensedNearestNeighbour, RandomUnderSampler\nfrom imblearn.over_sampling import SMOTE, RandomOverSampler", "code_hash": "119ad4b6b1ef23ca11d272de68c70a2b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZFkq", "name": "_"}, {"code": "import plotly.graph_objects as go\nfrom plotly.subplots import make_subplots", "code_hash": "e8233cfd57b4c5e5c63740900062d9e3", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ahRI", "name": "_"}, {"code": "def generate_resamples():\n    resampings = dict()\n    figs = [\n        make_subplots(\n            cols=1, \n            rows=4, \n            subplot_titles=[\n                'Down-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433',\n                'Down-Up-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433',\n                'Up-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433',\n                'Source'\n            ],\n            vertical_spacing=0.1,\n        ).update_layout(height=1800) for _ in EMBEDDINGS_MODEL_NAMES\n    ]\n    for k, i in enumerate(EMBEDDINGS_MODEL_NAMES):\n        X_up, Y_up = SMOTE(sampling_strategy='not majority').fit_resample(\n            VECTORIZED_X_train[i], \n            Y_train.reshape([-1, 1])\n        )\n        X_down, Y_down = CondensedNearestNeighbour(sampling_strategy='not minority').fit_resample(\n            VECTORIZED_X_train[i], \n            Y_train.reshape([-1, 1])\n        )\n        X_down_up, Y_down_up = SMOTE(k_neighbors=5, sampling_strategy='all').fit_resample(\n            VECTORIZED_X_train[i], \n            Y_train.reshape([-1, 1])\n        )\n        resampings[i] = dict(\n            up=dict(X=X_up,Y=Y_up),\n            down=dict(X=X_down,Y=Y_down),\n            down_up=dict(X=X_down_up,Y=Y_down_up),\n            source=dict(X=VECTORIZED_X_train[i], Y=Y_train.to_numpy())\n        )\n        figs[k] = figs[k].add_trace(\n            go.Bar(\n                y = pl.Series(Y_down).value_counts()['count'],\n                x=pl.Series(Y_down).value_counts()['grade']\n            ), col=1, row=1\n        ).add_trace(\n            go.Bar(\n                y = pl.Series(Y_down_up).value_counts()['count'],\n                x=pl.Series(Y_down_up).value_counts()['grade']\n            ), col=1, row=2\n        ).add_trace(\n            go.Bar(\n                y = pl.Series(Y_up).value_counts()['count'],\n                x=pl.Series(Y_up).value_counts()['grade']\n            ), col=1, row=3\n        ).add_trace(\n            go.Bar(\n                y = pl.Series(Y_train).value_counts()['count'],\n                x=pl.Series(Y_train).value_counts()['grade']\n            ), col=1, row=4\n        )\n    return resampings, mo.hstack([\n        mo.vstack([\n            mo.md(f'##{n}'), \n            mo.ui.plotly(f)\n        ]) for n, f in zip(EMBEDDINGS_MODEL_NAMES, figs)\n    ])\n        \n", "code_hash": "c92717d13536aa4216753d3e737c7804", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "LUPI", "name": "_"}, {"code": "RESAMPLES, BAR_RESAMP = generate_resamples()", "code_hash": "c0548dc30e6ab6a53f795eea9adac7d5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bCqs", "name": "_"}, {"code": "BAR_RESAMP", "code_hash": "455c241a2cbaee69d9d45f536916f629", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PHmi", "name": "_"}, {"code": "RESAMPLES", "code_hash": "1c81212ab8ad38cbcc31f50d2a19ec69", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "WmLF", "name": "_"}, {"code": "from tqdm.notebook import tqdm", "code_hash": "e1fb2ddf2e4a57adfaa65966aa3dc106", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TmSl", "name": "_"}, {"code": "def make_experements():\n    results = dict()\n    report = ''\n    for embeder, samples in RESAMPLES.items():\n        for sample_type, data in tqdm(samples.items()):\n            x, y = data['X'], data['Y']\n            cbm = CatBoostClassifier(metric_period=20,verbose=False).fit(x, y)\n            yp = cbm.predict(VECTORIZED_X_test[embeder])\n            name = f'{embeder} | {sample_type}'\n            report += f'## {name}\\n\\n'\n            report += classification_report(Y_test.to_list(), np.array(yp).reshape(-1).tolist())\n            report += '\\n\\n'\n            results[name] = cbm\n    return results, report", "code_hash": "6474707579f5b7ecd6de9afc19a584fd", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "_"}, {"code": "RESULTS, report = make_experements()", "code_hash": "41ef2e6cf012eef3108145a885075774", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "_"}, {"code": "print(*(report.split('\\n\\n')[k] + '\\n\\n' + '\\n\\n'.join(report.split('\\n\\n')[k+1:k+4]) for k in range(10)))", "code_hash": "5e9066f89235c63ffeef111f584f4c82", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "osHq", "name": "_"}, {"code": "mo.md(report)", "code_hash": "9ac7f4e1ba17a36d41b076c4fef544e9", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nwUw", "name": "_"}, {"code": "mo.md(r\"\"\"\u041d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043b\u0443\u0447\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u043e\u043a\u0430\u0437\u0430\u043b\u0430\u0441\u044c \u0443 \"\"\")", "code_hash": "69e91d9ae919a1f519c41b706d8064e2", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "klGn", "name": "_"}, {"code": "RESULTS['deepvk/USER-base | down'].save_model('./cb_model')", "code_hash": "ae082cce8ae9c57025372884dcf4c36b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "_"}], "metadata": {"marimo_version": "0.16.0"}, "version": "1"},
            "session": {"cells": [{"code_hash": "61296fe7cb1dceefa3f8d3ab3615db86", "console": [], "id": "Hbol", "outputs": [{"ename": "interruption", "evalue": "This cell was interrupted and needs to be re-run", "traceback": [], "type": "error"}]}, {"code_hash": "0bd631c2057f64ef4a873e9722c33cc1", "console": [], "id": "vblA", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u0411\u044b\u043b\u0438 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u044d\u043c\u0431\u0435\u0434\u0438\u043d\u0433\u043e\u0432</span>\n<ul>\n<li>deepvk/USER-base</li>\n<li>ai-forever/sbert_large_nlu_ru</li>\n</ul></span>"}, "type": "data"}]}, {"code_hash": "1e26a7d11878946cd0559c2e9300a9c1", "console": [{"name": "stderr", "text": "Default prompt name is set to 'query'. This prompt will be applied to all `encode()` calls, except if `encode()` is called with `prompt` or `prompt_name` parameters.\n", "type": "stream"}], "id": "bkHC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "16083ab9ed71c17a44839a07acff181c", "console": [], "id": "XeCI", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u0412\u043e\u0437\u043c\u0451\u043c \u044d\u0432\u0440\u0438\u0441\u0442\u0438\u043a\u0443, \u0447\u0442\u043e \u0440\u044d\u0439\u0442\u0438\u043d\u0433=\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430</span></span>"}, "type": "data"}]}, {"code_hash": "20d475861ed1b12eebf201be9abec7f0", "console": [], "id": "PKri", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "d5db4be614c5f6ae6e55f6d80d980859", "console": [], "id": "Xref", "outputs": [{"data": {"text/html": "<marimo-plotly data-figure='{&quot;data&quot;:[{&quot;bingroup&quot;:&quot;x&quot;,&quot;hovertemplate&quot;:&quot;variable=grade&lt;br&gt;value=%{x}&lt;br&gt;count=%{y}&lt;extra&gt;&lt;/extra&gt;&quot;,&quot;legendgroup&quot;:&quot;grade&quot;,&quot;marker&quot;:{&quot;color&quot;:&quot;#636efa&quot;,&quot;pattern&quot;:{&quot;shape&quot;:&quot;&quot;}},&quot;name&quot;:&quot;grade&quot;,&quot;orientation&quot;:&quot;v&quot;,&quot;showlegend&quot;:true,&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;AQUBBQEBAQEFAQEFAQUFAQUCAQECBQUCAQEBBQUCAQEBAQEBAQUBBQIFAQEBAQEBBQUCAQEBAQEBAQECAQEFAgQFAQUBBQEBAQUFAwUBBQEFBQIBAgEBBQEBAQEBBQUBAQIBBQIFAQUDBQUFAQEBBQUFBQEFAQEBBQEBAQIBAQEFAQEBAQEFAQEBAQEBAQIBAQECAQEBAQEBBQUBBQEFBQEFAQEBBQEBAQUCAgUBAQEBAQEBAQUBAQEFAQEFBQUFAQUFBQEBAQEBAQEBAQEBAQEBBQEBBQEBAQUBAQMBAgIBAQUBAQQBAQUBAQEDBQUBBQIBAgUFBQEBAQMBBQEFAQEBBQEBAQEBAQEDAwEBBQECAQQBAwUBBQEBAQEBAQEBAQUBAQEBAQEBBQEBBQEBBQUBAQUBAQIBAQEBAQUDAQEBAQUBAQIBBQUBAQEBBQEBBQECBQEBAQEBAQMFAgEFAQEFAgEBAQEFBQEFBQEBBQEEAQEBAQEBAQEBAQUBAQQFAgEBAQEBAQEFBAEBAQUFBQIBAQUBAQEFBQEBBQUBBQUBAQEBAQUBAQEBAQEFBQEBAQUFAQEFAgEBAgEBBQEFAQUFAQUBBQEBBQEFAQEBAQEEAQQFAQUBAwEBAQEBAQUFAQUBAQUFAQEBBQEBAQUBAQUBAQEBAQMDAQUCBQUCAQEBBQEFBQIFAgEBAgECBQEBAQEFAQEBAQEBAQEBBQUFBAIFAQEBAQEBAwUBAQUBBQEBBQEBBAEFAQMFAQEFAQEBBQECAQUFBQUFAQEBAQUBBQEFAQIBBQEFAQEBAQEBAQUBAQQFBQIBBQIFAgEDAQECAQQFAgEBBQEBBQEBAQIBBQUBAgEFAQIBAQMFAQEFAQEBAQEFAQEBAQEBBQUBAgUCAQECBQUFAQEDAQEBAQUBBQUBBQEFBQEBAQEFAQUEBQEFAQUBAQEFAQIBAQIFAQEDAgUBAQECAQEFBQECAQMBBQIBAQQBAgQCAQEBBQUBAQECBQEBAQUBAQIFAgIBAQIFAQEBAQEBAQUBAQEBAQEBAQIBAgUFBQQBBQEFAQUFAQMBAQUBAQECBAECBAMCAQEBBQEBAQUBAgUFAQUBAQUFBQIBAQEBBQEBAgUFAwEBBQEBAQUBAQEFAQEFAgUBBQEFBQEBAQEFAgUDAQEBAgUBAQEFAQEBAQEBAgEFAQEBAQUFAQEBBQEBAQEBBQUBBQICBQEBAQUBAQEBAQUBAgUBAQUBAQEBAQUBAQEBBQEBAgUEAQEBBQUFAQEBBQEBAQIBAQEFAQUBAQUBAQEFAQEBAQEFBQEFAQUBAgEBAQEBAQUBAQEBAQIFAgECBQUCBQUFAQEBBQUBBQEBBQEBAQECAQEFAgEFAQMCAQEBBQECAQEBAQUFAwEBAQEFBQEFBQUCBQECAQUFAQQFAQIBBQEBBQEEAgEBBQEBBQUBAQEFAQIFAQEBAgEBAQEBAQEBBQEBBQEBAQEBBQUBAQEBBQUBAQUFAgECBQUFAQEFBQEFAQIBBQUCAQUBAQUBBQEBAwEBAQEFAQEBAQEBAQEBAgICBQEBAQEBAgUBAQEBAQEFAgUBBQEFAQUBBQEBAgMBAQIFBQEBBQUBBQEBAQECAQEBAQQBBAIBAQEBAgUBAQEBAgUBAQUBAQEBAQEBAQEBAgEBAQEBAQEFBQEFBQEFAQIBAQEBAgEFAQEFAQUBBQUFAQEFBQEBAQEFAQEBAQEFAQEBAQUBAQEFBQEBBQEFAQUFAQUBBQUBAQEBBQEBAQIBAQEFAQUBBQUFAQEBAQEBBQMBAgECBQEBAQEBAwEBBQUDAQUBBQQBBQEBAwEBAQEFBQEBAQUBAQUBBQEBBQEFAQEFBQEDAwUBAQECAQUFAQUBAQQBBQUBBQUFBQUFAQECBQEFBQEBAQEBAQEBAgEBAQQBAQIEAQIFAQEFAQUBAQECBQECAQEFAgEBAQMBAQEFAgEFBQECBQUBBQEFAQEBBAUCAQUBAwEFAQUFBQEBBQEBBQICAQUBAQEBAQUBAQEBAQIBAQUBAQUBAgEBBQUBAQEBAQEFAgEEAQEFBQUEBQUBBQEDAQEBBQEFBQEBAQUFBQUFBQEFAQUDAQEDBQIFBQEBBQEBAQIBAQUCAQUBAQQBBQIBAQUBAQUBAQUBBQEBAQEBAQEBBQEFAQUBAQEFBQEFAQEBAQQBAQEBAQEBAQUEBQEBAQEBAQUBAQEBAQEBBQEBBQEEAQEBAQUBAQEFBQEBAQIFAgIBAQEFAQEBBQMBAQEBAQEBBQEBAQUFAQUBBQECBAEFBQEFBQEBAQUFAQEBAQMFAQEBAQUBBQQBAQEBAQIFAgUFAQUBBAEFBQEBBQEBAQUFAQMFAQEBAQUFAQEBBQEFBQEFAQEBAQEBBQEFAQIBAQEFAQUBBQEEAQUBAQEEAQUBBQEFAQEBAQUBAQUBAQEBAQIDBQEBAgUBAQUBBQUFAQIBAQEFAQEBBQEFBQUFAQEBAQEFAQUCAQUBAQECAgEBBQEBAQECAQIFAQIFAQEFBQECAgUBAQUBAQEBBQUBBQEFAQUCAQUBBQEBAgEFAQUFAQUBAQMBAQEBAQEBBQEBAQEBAQEBAQEBAQUDAQEDAQMCAQUBAgEBBQEBBQUFAQEFAQEBAQEBAQEDAQEBBAEFAQUBAQUBAQEBAQIDBQMBAQUBAQEBAwEBAQECAgUBAQEFBQEBAQEBAgEBAQEBAQEBBQEBAgUBAgMBBQUFAQEBAQUBBQEBAQEBAQEBBQEFBQEBBQECBQUFBQEBAgUBAQEBBAEBBQUBAQUBAQEBBQEBBAEBAQEBBQEBAQUFBQECAQEFAQUCAQEBBQUBAQEBAQEBAQUFAQEFAQECAQEFAgEDBQEBAQEBBQUFAQEBAQUFAQEBAQUCBQECAwUFBQUBAg==&quot;},&quot;xaxis&quot;:&quot;x&quot;,&quot;yaxis&quot;:&quot;y&quot;,&quot;type&quot;:&quot;histogram&quot;}],&quot;layout&quot;:{&quot;template&quot;:{&quot;data&quot;:{&quot;histogram2dcontour&quot;:[{&quot;type&quot;:&quot;histogram2dcontour&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;choropleth&quot;:[{&quot;type&quot;:&quot;choropleth&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;histogram2d&quot;:[{&quot;type&quot;:&quot;histogram2d&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;heatmap&quot;:[{&quot;type&quot;:&quot;heatmap&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;contourcarpet&quot;:[{&quot;type&quot;:&quot;contourcarpet&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;contour&quot;:[{&quot;type&quot;:&quot;contour&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;surface&quot;:[{&quot;type&quot;:&quot;surface&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;mesh3d&quot;:[{&quot;type&quot;:&quot;mesh3d&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;scatter&quot;:[{&quot;fillpattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2},&quot;type&quot;:&quot;scatter&quot;}],&quot;parcoords&quot;:[{&quot;type&quot;:&quot;parcoords&quot;,&quot;line&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterpolargl&quot;:[{&quot;type&quot;:&quot;scatterpolargl&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;bar&quot;:[{&quot;error_x&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;error_y&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;marker&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#E5ECF6&quot;,&quot;width&quot;:0.5},&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;bar&quot;}],&quot;scattergeo&quot;:[{&quot;type&quot;:&quot;scattergeo&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterpolar&quot;:[{&quot;type&quot;:&quot;scatterpolar&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;histogram&quot;:[{&quot;marker&quot;:{&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;histogram&quot;}],&quot;scattergl&quot;:[{&quot;type&quot;:&quot;scattergl&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatter3d&quot;:[{&quot;type&quot;:&quot;scatter3d&quot;,&quot;line&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}},&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattermap&quot;:[{&quot;type&quot;:&quot;scattermap&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattermapbox&quot;:[{&quot;type&quot;:&quot;scattermapbox&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterternary&quot;:[{&quot;type&quot;:&quot;scatterternary&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattercarpet&quot;:[{&quot;type&quot;:&quot;scattercarpet&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;carpet&quot;:[{&quot;aaxis&quot;:{&quot;endlinecolor&quot;:&quot;#2a3f5f&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;minorgridcolor&quot;:&quot;white&quot;,&quot;startlinecolor&quot;:&quot;#2a3f5f&quot;},&quot;baxis&quot;:{&quot;endlinecolor&quot;:&quot;#2a3f5f&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;minorgridcolor&quot;:&quot;white&quot;,&quot;startlinecolor&quot;:&quot;#2a3f5f&quot;},&quot;type&quot;:&quot;carpet&quot;}],&quot;table&quot;:[{&quot;cells&quot;:{&quot;fill&quot;:{&quot;color&quot;:&quot;#EBF0F8&quot;},&quot;line&quot;:{&quot;color&quot;:&quot;white&quot;}},&quot;header&quot;:{&quot;fill&quot;:{&quot;color&quot;:&quot;#C8D4E3&quot;},&quot;line&quot;:{&quot;color&quot;:&quot;white&quot;}},&quot;type&quot;:&quot;table&quot;}],&quot;barpolar&quot;:[{&quot;marker&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#E5ECF6&quot;,&quot;width&quot;:0.5},&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;barpolar&quot;}],&quot;pie&quot;:[{&quot;automargin&quot;:true,&quot;type&quot;:&quot;pie&quot;}]},&quot;layout&quot;:{&quot;autotypenumbers&quot;:&quot;strict&quot;,&quot;colorway&quot;:[&quot;#636efa&quot;,&quot;#EF553B&quot;,&quot;#00cc96&quot;,&quot;#ab63fa&quot;,&quot;#FFA15A&quot;,&quot;#19d3f3&quot;,&quot;#FF6692&quot;,&quot;#B6E880&quot;,&quot;#FF97FF&quot;,&quot;#FECB52&quot;],&quot;font&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;hovermode&quot;:&quot;closest&quot;,&quot;hoverlabel&quot;:{&quot;align&quot;:&quot;left&quot;},&quot;paper_bgcolor&quot;:&quot;white&quot;,&quot;plot_bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;polar&quot;:{&quot;bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;angularaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;radialaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;}},&quot;ternary&quot;:{&quot;bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;aaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;baxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;caxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;}},&quot;coloraxis&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}},&quot;colorscale&quot;:{&quot;sequential&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]],&quot;sequentialminus&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]],&quot;diverging&quot;:[[0,&quot;#8e0152&quot;],[0.1,&quot;#c51b7d&quot;],[0.2,&quot;#de77ae&quot;],[0.3,&quot;#f1b6da&quot;],[0.4,&quot;#fde0ef&quot;],[0.5,&quot;#f7f7f7&quot;],[0.6,&quot;#e6f5d0&quot;],[0.7,&quot;#b8e186&quot;],[0.8,&quot;#7fbc41&quot;],[0.9,&quot;#4d9221&quot;],[1,&quot;#276419&quot;]]},&quot;xaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;,&quot;title&quot;:{&quot;standoff&quot;:15},&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;automargin&quot;:true,&quot;zerolinewidth&quot;:2},&quot;yaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;,&quot;title&quot;:{&quot;standoff&quot;:15},&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;automargin&quot;:true,&quot;zerolinewidth&quot;:2},&quot;scene&quot;:{&quot;xaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2},&quot;yaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2},&quot;zaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2}},&quot;shapedefaults&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;}},&quot;annotationdefaults&quot;:{&quot;arrowcolor&quot;:&quot;#2a3f5f&quot;,&quot;arrowhead&quot;:0,&quot;arrowwidth&quot;:1},&quot;geo&quot;:{&quot;bgcolor&quot;:&quot;white&quot;,&quot;landcolor&quot;:&quot;#E5ECF6&quot;,&quot;subunitcolor&quot;:&quot;white&quot;,&quot;showland&quot;:true,&quot;showlakes&quot;:true,&quot;lakecolor&quot;:&quot;white&quot;},&quot;title&quot;:{&quot;x&quot;:0.05},&quot;mapbox&quot;:{&quot;style&quot;:&quot;light&quot;}}},&quot;xaxis&quot;:{&quot;anchor&quot;:&quot;y&quot;,&quot;domain&quot;:[0.0,1.0],&quot;title&quot;:{&quot;text&quot;:&quot;value&quot;}},&quot;yaxis&quot;:{&quot;anchor&quot;:&quot;x&quot;,&quot;domain&quot;:[0.0,1.0],&quot;title&quot;:{&quot;text&quot;:&quot;count&quot;}},&quot;legend&quot;:{&quot;title&quot;:{&quot;text&quot;:&quot;variable&quot;},&quot;tracegroupgap&quot;:0},&quot;margin&quot;:{&quot;t&quot;:60},&quot;barmode&quot;:&quot;relative&quot;,&quot;dragmode&quot;:&quot;zoom&quot;}}' data-config='{}'></marimo-plotly>"}, "type": "data"}]}, {"code_hash": "e2f2828e7b582af90b92252c78b69382", "console": [], "id": "knfx", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u041a\u0430 \u0432\u0438\u0434\u043d\u043e \u0438\u0437 \u0441\u0442\u043e\u043b\u0431\u0447\u0430\u0442\u043e\u0439 \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u044b, \u0435\u0441\u0442\u044c \u0441\u0438\u043b\u043d\u044b\u0439 \u0434\u0438\u0441\u0431\u0430\u043b\u0430\u043d\u0441 \u0432 \u043d\u0435\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u043e</span></span>"}, "type": "data"}]}, {"code_hash": "cb0c4d56d7c4fda3a06d016e7b9ea910", "console": [], "id": "SlIb", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h1 id=\"_1\"><strong>\u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043c\u044b \u0434\u0438\u0441\u0431\u0430\u043b\u0430\u043d\u0441\u0430</strong></h1></span>"}, "type": "data"}]}, {"code_hash": "6f21c9e214366a08f7d8a73688c6fa60", "console": [], "id": "DsDu", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u0414\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f stratify'\u043d\u0443\u0442\u044b\u043c \u0440\u0430\u0437\u0431\u0438\u0435\u043d\u0438\u0435\u043c \u043d\u0430 \u0432\u044b\u0431\u043e\u0440\u043a\u0438</span></span>"}, "type": "data"}]}, {"code_hash": "ee06ed5679121fe85db5ecdbc170d835", "console": [], "id": "LVIx", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "07d55fecf871c9973bdf6772f927fcc3", "console": [], "id": "NfgY", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "ab3b2ed906a80b7abfe4da16fcb10a84", "console": [], "id": "bFDL", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u0441\u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u043a\u0443</span></span>"}, "type": "data"}]}, {"code_hash": "119ad4b6b1ef23ca11d272de68c70a2b", "console": [], "id": "ZFkq", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "e8233cfd57b4c5e5c63740900062d9e3", "console": [], "id": "ahRI", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "c92717d13536aa4216753d3e737c7804", "console": [], "id": "LUPI", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "c0548dc30e6ab6a53f795eea9adac7d5", "console": [], "id": "bCqs", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "455c241a2cbaee69d9d45f536916f629", "console": [], "id": "PHmi", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"deepvkuser-base\">deepvk/USER-base</h2></span><marimo-ui-element object-id='bCqs-0' random-id='2df8262a-0156-6d78-9f02-ac90b905fb34'><marimo-plotly data-initial-value='{}' data-label='null' data-figure='{&quot;data&quot;:[{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;AQMEBQI=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;igAAAB8AAAAYAAAALQAAAFYAAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x&quot;,&quot;yaxis&quot;:&quot;y&quot;},{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;AgEFBAM=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;0AMAANADAADQAwAA0AMAANADAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x2&quot;,&quot;yaxis&quot;:&quot;y2&quot;},{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;AgMFBAE=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;0AMAANADAADQAwAA0AMAANADAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x3&quot;,&quot;yaxis&quot;:&quot;y3&quot;},{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;BQEDBAI=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;0AMAAMYBAACDAAAAKAAAAB8AAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x4&quot;,&quot;yaxis&quot;:&quot;y4&quot;}],&quot;layout&quot;:{&quot;template&quot;:{&quot;data&quot;:{&quot;histogram2dcontour&quot;:[{&quot;type&quot;:&quot;histogram2dcontour&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;choropleth&quot;:[{&quot;type&quot;:&quot;choropleth&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;histogram2d&quot;:[{&quot;type&quot;:&quot;histogram2d&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;heatmap&quot;:[{&quot;type&quot;:&quot;heatmap&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;contourcarpet&quot;:[{&quot;type&quot;:&quot;contourcarpet&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;contour&quot;:[{&quot;type&quot;:&quot;contour&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;surface&quot;:[{&quot;type&quot;:&quot;surface&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;mesh3d&quot;:[{&quot;type&quot;:&quot;mesh3d&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;scatter&quot;:[{&quot;fillpattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2},&quot;type&quot;:&quot;scatter&quot;}],&quot;parcoords&quot;:[{&quot;type&quot;:&quot;parcoords&quot;,&quot;line&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterpolargl&quot;:[{&quot;type&quot;:&quot;scatterpolargl&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;bar&quot;:[{&quot;error_x&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;error_y&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;marker&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#E5ECF6&quot;,&quot;width&quot;:0.5},&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;bar&quot;}],&quot;scattergeo&quot;:[{&quot;type&quot;:&quot;scattergeo&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterpolar&quot;:[{&quot;type&quot;:&quot;scatterpolar&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;histogram&quot;:[{&quot;marker&quot;:{&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;histogram&quot;}],&quot;scattergl&quot;:[{&quot;type&quot;:&quot;scattergl&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatter3d&quot;:[{&quot;type&quot;:&quot;scatter3d&quot;,&quot;line&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}},&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattermap&quot;:[{&quot;type&quot;:&quot;scattermap&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattermapbox&quot;:[{&quot;type&quot;:&quot;scattermapbox&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterternary&quot;:[{&quot;type&quot;:&quot;scatterternary&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattercarpet&quot;:[{&quot;type&quot;:&quot;scattercarpet&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;carpet&quot;:[{&quot;aaxis&quot;:{&quot;endlinecolor&quot;:&quot;#2a3f5f&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;minorgridcolor&quot;:&quot;white&quot;,&quot;startlinecolor&quot;:&quot;#2a3f5f&quot;},&quot;baxis&quot;:{&quot;endlinecolor&quot;:&quot;#2a3f5f&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;minorgridcolor&quot;:&quot;white&quot;,&quot;startlinecolor&quot;:&quot;#2a3f5f&quot;},&quot;type&quot;:&quot;carpet&quot;}],&quot;table&quot;:[{&quot;cells&quot;:{&quot;fill&quot;:{&quot;color&quot;:&quot;#EBF0F8&quot;},&quot;line&quot;:{&quot;color&quot;:&quot;white&quot;}},&quot;header&quot;:{&quot;fill&quot;:{&quot;color&quot;:&quot;#C8D4E3&quot;},&quot;line&quot;:{&quot;color&quot;:&quot;white&quot;}},&quot;type&quot;:&quot;table&quot;}],&quot;barpolar&quot;:[{&quot;marker&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#E5ECF6&quot;,&quot;width&quot;:0.5},&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;barpolar&quot;}],&quot;pie&quot;:[{&quot;automargin&quot;:true,&quot;type&quot;:&quot;pie&quot;}]},&quot;layout&quot;:{&quot;autotypenumbers&quot;:&quot;strict&quot;,&quot;colorway&quot;:[&quot;#636efa&quot;,&quot;#EF553B&quot;,&quot;#00cc96&quot;,&quot;#ab63fa&quot;,&quot;#FFA15A&quot;,&quot;#19d3f3&quot;,&quot;#FF6692&quot;,&quot;#B6E880&quot;,&quot;#FF97FF&quot;,&quot;#FECB52&quot;],&quot;font&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;hovermode&quot;:&quot;closest&quot;,&quot;hoverlabel&quot;:{&quot;align&quot;:&quot;left&quot;},&quot;paper_bgcolor&quot;:&quot;white&quot;,&quot;plot_bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;polar&quot;:{&quot;bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;angularaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;radialaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;}},&quot;ternary&quot;:{&quot;bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;aaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;baxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;caxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;}},&quot;coloraxis&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}},&quot;colorscale&quot;:{&quot;sequential&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]],&quot;sequentialminus&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]],&quot;diverging&quot;:[[0,&quot;#8e0152&quot;],[0.1,&quot;#c51b7d&quot;],[0.2,&quot;#de77ae&quot;],[0.3,&quot;#f1b6da&quot;],[0.4,&quot;#fde0ef&quot;],[0.5,&quot;#f7f7f7&quot;],[0.6,&quot;#e6f5d0&quot;],[0.7,&quot;#b8e186&quot;],[0.8,&quot;#7fbc41&quot;],[0.9,&quot;#4d9221&quot;],[1,&quot;#276419&quot;]]},&quot;xaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;,&quot;title&quot;:{&quot;standoff&quot;:15},&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;automargin&quot;:true,&quot;zerolinewidth&quot;:2},&quot;yaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;,&quot;title&quot;:{&quot;standoff&quot;:15},&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;automargin&quot;:true,&quot;zerolinewidth&quot;:2},&quot;scene&quot;:{&quot;xaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2},&quot;yaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2},&quot;zaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2}},&quot;shapedefaults&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;}},&quot;annotationdefaults&quot;:{&quot;arrowcolor&quot;:&quot;#2a3f5f&quot;,&quot;arrowhead&quot;:0,&quot;arrowwidth&quot;:1},&quot;geo&quot;:{&quot;bgcolor&quot;:&quot;white&quot;,&quot;landcolor&quot;:&quot;#E5ECF6&quot;,&quot;subunitcolor&quot;:&quot;white&quot;,&quot;showland&quot;:true,&quot;showlakes&quot;:true,&quot;lakecolor&quot;:&quot;white&quot;},&quot;title&quot;:{&quot;x&quot;:0.05},&quot;mapbox&quot;:{&quot;style&quot;:&quot;light&quot;}}},&quot;xaxis&quot;:{&quot;anchor&quot;:&quot;y&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis&quot;:{&quot;anchor&quot;:&quot;x&quot;,&quot;domain&quot;:[0.825,1.0]},&quot;xaxis2&quot;:{&quot;anchor&quot;:&quot;y2&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis2&quot;:{&quot;anchor&quot;:&quot;x2&quot;,&quot;domain&quot;:[0.55,0.7250000000000001]},&quot;xaxis3&quot;:{&quot;anchor&quot;:&quot;y3&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis3&quot;:{&quot;anchor&quot;:&quot;x3&quot;,&quot;domain&quot;:[0.275,0.45]},&quot;xaxis4&quot;:{&quot;anchor&quot;:&quot;y4&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis4&quot;:{&quot;anchor&quot;:&quot;x4&quot;,&quot;domain&quot;:[0.0,0.175]},&quot;annotations&quot;:[{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Down-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:1.0,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;},{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Down-Up-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:0.7250000000000001,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;},{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Up-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:0.45,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;},{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Source&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:0.175,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;}],&quot;height&quot;:1800}}' data-config='{}'></marimo-plotly></marimo-ui-element></div><div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><span class=\"markdown prose dark:prose-invert\"><h2 id=\"ai-foreversbert_large_nlu_ru\">ai-forever/sbert_large_nlu_ru</h2></span><marimo-ui-element object-id='bCqs-1' random-id='0f2bb8eb-c433-c3ca-4274-f0f5354ef1cb'><marimo-plotly data-initial-value='{}' data-label='null' data-figure='{&quot;data&quot;:[{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;BQIBAwQ=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;YAAAAHcAAAAZAAAAHwAAAC0AAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x&quot;,&quot;yaxis&quot;:&quot;y&quot;},{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;AwIFAQQ=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;0AMAANADAADQAwAA0AMAANADAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x2&quot;,&quot;yaxis&quot;:&quot;y2&quot;},{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;BAUDAgE=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;0AMAANADAADQAwAA0AMAANADAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x3&quot;,&quot;yaxis&quot;:&quot;y3&quot;},{&quot;x&quot;:{&quot;dtype&quot;:&quot;i1&quot;,&quot;bdata&quot;:&quot;BAIBAwU=&quot;},&quot;y&quot;:{&quot;dtype&quot;:&quot;u4&quot;,&quot;bdata&quot;:&quot;gwAAAB8AAAAoAAAA0AMAAMYBAAA=&quot;},&quot;type&quot;:&quot;bar&quot;,&quot;xaxis&quot;:&quot;x4&quot;,&quot;yaxis&quot;:&quot;y4&quot;}],&quot;layout&quot;:{&quot;template&quot;:{&quot;data&quot;:{&quot;histogram2dcontour&quot;:[{&quot;type&quot;:&quot;histogram2dcontour&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;choropleth&quot;:[{&quot;type&quot;:&quot;choropleth&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;histogram2d&quot;:[{&quot;type&quot;:&quot;histogram2d&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;heatmap&quot;:[{&quot;type&quot;:&quot;heatmap&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;contourcarpet&quot;:[{&quot;type&quot;:&quot;contourcarpet&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;contour&quot;:[{&quot;type&quot;:&quot;contour&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;surface&quot;:[{&quot;type&quot;:&quot;surface&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;},&quot;colorscale&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]]}],&quot;mesh3d&quot;:[{&quot;type&quot;:&quot;mesh3d&quot;,&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}],&quot;scatter&quot;:[{&quot;fillpattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2},&quot;type&quot;:&quot;scatter&quot;}],&quot;parcoords&quot;:[{&quot;type&quot;:&quot;parcoords&quot;,&quot;line&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterpolargl&quot;:[{&quot;type&quot;:&quot;scatterpolargl&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;bar&quot;:[{&quot;error_x&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;error_y&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;marker&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#E5ECF6&quot;,&quot;width&quot;:0.5},&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;bar&quot;}],&quot;scattergeo&quot;:[{&quot;type&quot;:&quot;scattergeo&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterpolar&quot;:[{&quot;type&quot;:&quot;scatterpolar&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;histogram&quot;:[{&quot;marker&quot;:{&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;histogram&quot;}],&quot;scattergl&quot;:[{&quot;type&quot;:&quot;scattergl&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatter3d&quot;:[{&quot;type&quot;:&quot;scatter3d&quot;,&quot;line&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}},&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattermap&quot;:[{&quot;type&quot;:&quot;scattermap&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattermapbox&quot;:[{&quot;type&quot;:&quot;scattermapbox&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scatterternary&quot;:[{&quot;type&quot;:&quot;scatterternary&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;scattercarpet&quot;:[{&quot;type&quot;:&quot;scattercarpet&quot;,&quot;marker&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}}}],&quot;carpet&quot;:[{&quot;aaxis&quot;:{&quot;endlinecolor&quot;:&quot;#2a3f5f&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;minorgridcolor&quot;:&quot;white&quot;,&quot;startlinecolor&quot;:&quot;#2a3f5f&quot;},&quot;baxis&quot;:{&quot;endlinecolor&quot;:&quot;#2a3f5f&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;minorgridcolor&quot;:&quot;white&quot;,&quot;startlinecolor&quot;:&quot;#2a3f5f&quot;},&quot;type&quot;:&quot;carpet&quot;}],&quot;table&quot;:[{&quot;cells&quot;:{&quot;fill&quot;:{&quot;color&quot;:&quot;#EBF0F8&quot;},&quot;line&quot;:{&quot;color&quot;:&quot;white&quot;}},&quot;header&quot;:{&quot;fill&quot;:{&quot;color&quot;:&quot;#C8D4E3&quot;},&quot;line&quot;:{&quot;color&quot;:&quot;white&quot;}},&quot;type&quot;:&quot;table&quot;}],&quot;barpolar&quot;:[{&quot;marker&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#E5ECF6&quot;,&quot;width&quot;:0.5},&quot;pattern&quot;:{&quot;fillmode&quot;:&quot;overlay&quot;,&quot;size&quot;:10,&quot;solidity&quot;:0.2}},&quot;type&quot;:&quot;barpolar&quot;}],&quot;pie&quot;:[{&quot;automargin&quot;:true,&quot;type&quot;:&quot;pie&quot;}]},&quot;layout&quot;:{&quot;autotypenumbers&quot;:&quot;strict&quot;,&quot;colorway&quot;:[&quot;#636efa&quot;,&quot;#EF553B&quot;,&quot;#00cc96&quot;,&quot;#ab63fa&quot;,&quot;#FFA15A&quot;,&quot;#19d3f3&quot;,&quot;#FF6692&quot;,&quot;#B6E880&quot;,&quot;#FF97FF&quot;,&quot;#FECB52&quot;],&quot;font&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;},&quot;hovermode&quot;:&quot;closest&quot;,&quot;hoverlabel&quot;:{&quot;align&quot;:&quot;left&quot;},&quot;paper_bgcolor&quot;:&quot;white&quot;,&quot;plot_bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;polar&quot;:{&quot;bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;angularaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;radialaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;}},&quot;ternary&quot;:{&quot;bgcolor&quot;:&quot;#E5ECF6&quot;,&quot;aaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;baxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;},&quot;caxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;}},&quot;coloraxis&quot;:{&quot;colorbar&quot;:{&quot;outlinewidth&quot;:0,&quot;ticks&quot;:&quot;&quot;}},&quot;colorscale&quot;:{&quot;sequential&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]],&quot;sequentialminus&quot;:[[0.0,&quot;#0d0887&quot;],[0.1111111111111111,&quot;#46039f&quot;],[0.2222222222222222,&quot;#7201a8&quot;],[0.3333333333333333,&quot;#9c179e&quot;],[0.4444444444444444,&quot;#bd3786&quot;],[0.5555555555555556,&quot;#d8576b&quot;],[0.6666666666666666,&quot;#ed7953&quot;],[0.7777777777777778,&quot;#fb9f3a&quot;],[0.8888888888888888,&quot;#fdca26&quot;],[1.0,&quot;#f0f921&quot;]],&quot;diverging&quot;:[[0,&quot;#8e0152&quot;],[0.1,&quot;#c51b7d&quot;],[0.2,&quot;#de77ae&quot;],[0.3,&quot;#f1b6da&quot;],[0.4,&quot;#fde0ef&quot;],[0.5,&quot;#f7f7f7&quot;],[0.6,&quot;#e6f5d0&quot;],[0.7,&quot;#b8e186&quot;],[0.8,&quot;#7fbc41&quot;],[0.9,&quot;#4d9221&quot;],[1,&quot;#276419&quot;]]},&quot;xaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;,&quot;title&quot;:{&quot;standoff&quot;:15},&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;automargin&quot;:true,&quot;zerolinewidth&quot;:2},&quot;yaxis&quot;:{&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;ticks&quot;:&quot;&quot;,&quot;title&quot;:{&quot;standoff&quot;:15},&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;automargin&quot;:true,&quot;zerolinewidth&quot;:2},&quot;scene&quot;:{&quot;xaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2},&quot;yaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2},&quot;zaxis&quot;:{&quot;backgroundcolor&quot;:&quot;#E5ECF6&quot;,&quot;gridcolor&quot;:&quot;white&quot;,&quot;linecolor&quot;:&quot;white&quot;,&quot;showbackground&quot;:true,&quot;ticks&quot;:&quot;&quot;,&quot;zerolinecolor&quot;:&quot;white&quot;,&quot;gridwidth&quot;:2}},&quot;shapedefaults&quot;:{&quot;line&quot;:{&quot;color&quot;:&quot;#2a3f5f&quot;}},&quot;annotationdefaults&quot;:{&quot;arrowcolor&quot;:&quot;#2a3f5f&quot;,&quot;arrowhead&quot;:0,&quot;arrowwidth&quot;:1},&quot;geo&quot;:{&quot;bgcolor&quot;:&quot;white&quot;,&quot;landcolor&quot;:&quot;#E5ECF6&quot;,&quot;subunitcolor&quot;:&quot;white&quot;,&quot;showland&quot;:true,&quot;showlakes&quot;:true,&quot;lakecolor&quot;:&quot;white&quot;},&quot;title&quot;:{&quot;x&quot;:0.05},&quot;mapbox&quot;:{&quot;style&quot;:&quot;light&quot;}}},&quot;xaxis&quot;:{&quot;anchor&quot;:&quot;y&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis&quot;:{&quot;anchor&quot;:&quot;x&quot;,&quot;domain&quot;:[0.825,1.0]},&quot;xaxis2&quot;:{&quot;anchor&quot;:&quot;y2&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis2&quot;:{&quot;anchor&quot;:&quot;x2&quot;,&quot;domain&quot;:[0.55,0.7250000000000001]},&quot;xaxis3&quot;:{&quot;anchor&quot;:&quot;y3&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis3&quot;:{&quot;anchor&quot;:&quot;x3&quot;,&quot;domain&quot;:[0.275,0.45]},&quot;xaxis4&quot;:{&quot;anchor&quot;:&quot;y4&quot;,&quot;domain&quot;:[0.0,1.0]},&quot;yaxis4&quot;:{&quot;anchor&quot;:&quot;x4&quot;,&quot;domain&quot;:[0.0,0.175]},&quot;annotations&quot;:[{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Down-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:1.0,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;},{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Down-Up-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:0.7250000000000001,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;},{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Up-\u0441\u044d\u043c\u043f\u043b\u0438\u043d\u0433&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:0.45,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;},{&quot;font&quot;:{&quot;size&quot;:16},&quot;showarrow&quot;:false,&quot;text&quot;:&quot;Source&quot;,&quot;x&quot;:0.5,&quot;xanchor&quot;:&quot;center&quot;,&quot;xref&quot;:&quot;paper&quot;,&quot;y&quot;:0.175,&quot;yanchor&quot;:&quot;bottom&quot;,&quot;yref&quot;:&quot;paper&quot;}],&quot;height&quot;:1800}}' data-config='{}'></marimo-plotly></marimo-ui-element></div></div>"}, "type": "data"}]}, {"code_hash": "1c81212ab8ad38cbcc31f50d2a19ec69", "console": [], "id": "WmLF", "outputs": [{"data": {"application/json": "{\"deepvk/USER-base\": {\"up\": {\"X\": \"text/plain:[[-0.04664781 -0.02911618 -0.01990847 ... -0.01715771 -0.0248669\\n   0.02087858]\\n [-0.03549452  0.02011002 -0.02242455 ...  0.00308372 -0.01218852\\n   0.0498893 ]\\n [-0.00325929 -0.00637423 -0.00734338 ...  0.00894007 -0.01261058\\n   0.01543513]\\n ...\\n [-0.05032658  0.04516325 -0.02348001 ... -0.02786901  0.02952491\\n  -0.00767173]\\n [ 0.00586916  0.03913445  0.00910566 ... -0.02547966 -0.03824835\\n   0.00640938]\\n [-0.01218907  0.0822672  -0.020351   ... -0.0178629  -0.00024933\\n  -0.01071715]]\", \"Y\": \"text/html:<marimo-ui-element object-id='WmLF-0' random-id='7754a67b-13ba-be92-c05f-df301dc9cc29'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;[{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:2},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5}]&quot;' data-total-rows='4880' data-total-columns='1' data-max-columns='50' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;grade&quot;,[&quot;integer&quot;,&quot;int64&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'></marimo-table></marimo-ui-element>\"}, \"down\": {\"X\": \"text/plain:[[-0.06100164  0.0165148   0.03342498 ...  0.0418746  -0.02678347\\n   0.01802269]\\n [-0.04664781 -0.02911618 -0.01990847 ... -0.01715771 -0.0248669\\n   0.02087858]\\n [-0.03549452  0.02011002 -0.02242455 ...  0.00308372 -0.01218852\\n   0.0498893 ]\\n ...\\n [ 0.0140677   0.05841478 -0.0382184  ... -0.02200958  0.00459984\\n  -0.03443801]\\n [-0.00063132  0.01632805 -0.00281935 ... -0.08253586  0.00234778\\n  -0.0432238 ]\\n [-0.03074442  0.03717466  0.04277643 ...  0.00364363 -0.00609745\\n   0.03680659]]\", \"Y\": \"text/html:<marimo-ui-element object-id='WmLF-1' random-id='53cb926e-09ba-dd83-aa5d-5b33a5ed95b4'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;[{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1}]&quot;' data-total-rows='324' data-total-columns='1' data-max-columns='50' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;grade&quot;,[&quot;integer&quot;,&quot;int64&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'></marimo-table></marimo-ui-element>\"}, \"down_up\": {\"X\": \"text/plain:[[-0.04664781 -0.02911618 -0.01990847 ... -0.01715771 -0.0248669\\n   0.02087858]\\n [-0.03549452  0.02011002 -0.02242455 ...  0.00308372 -0.01218852\\n   0.0498893 ]\\n [-0.00325929 -0.00637423 -0.00734338 ...  0.00894007 -0.01261058\\n   0.01543513]\\n ...\\n [-0.01703219  0.02669119  0.00209408 ... -0.0254951  -0.02647479\\n  -0.0343854 ]\\n [ 0.01904324  0.01766221 -0.01393674 ...  0.01569521  0.01092147\\n  -0.02567484]\\n [-0.03858697  0.01867343  0.03242679 ... -0.00852094 -0.00657641\\n  -0.00949535]]\", \"Y\": \"text/html:<marimo-ui-element object-id='WmLF-2' random-id='25863cbf-0200-830b-012a-efed33856324'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;[{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:2},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5}]&quot;' data-total-rows='4880' data-total-columns='1' data-max-columns='50' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;grade&quot;,[&quot;integer&quot;,&quot;int64&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'></marimo-table></marimo-ui-element>\"}, \"source\": {\"X\": \"text/plain:[[-0.04664781 -0.02911618 -0.01990847 ... -0.01715771 -0.0248669\\n   0.02087858]\\n [-0.03549452  0.02011002 -0.02242455 ...  0.00308372 -0.01218852\\n   0.0498893 ]\\n [-0.00325929 -0.00637423 -0.00734338 ...  0.00894007 -0.01261058\\n   0.01543513]\\n ...\\n [-0.02662224 -0.01012819 -0.02229114 ... -0.01360749 -0.01399331\\n   0.02383515]\\n [-0.00737031  0.01167388  0.01963315 ... -0.03374056 -0.0030439\\n   0.04508027]\\n [-0.01788336  0.04027149 -0.01368062 ... -0.01869139 -0.0424064\\n   0.04252223]]\", \"Y\": \"text/plain:[1 1 2 ... 1 1 1]\"}}, \"ai-forever/sbert_large_nlu_ru\": {\"up\": {\"X\": \"text/plain:[[ 0.00878296  0.00044033 -0.03430938 ... -0.01532503  0.00564535\\n   0.00175488]\\n [ 0.01043154 -0.00935293 -0.04904088 ...  0.00796896 -0.00789776\\n   0.00733419]\\n [-0.00331837  0.01393187 -0.04259517 ...  0.01733585 -0.01565742\\n   0.00848328]\\n ...\\n [ 0.03383217 -0.01704933 -0.04148705 ... -0.00236737 -0.01744148\\n   0.00072605]\\n [ 0.01936826 -0.007771   -0.04346208 ... -0.02539054 -0.04149888\\n  -0.00566836]\\n [ 0.04455904 -0.0016621  -0.03934408 ... -0.01723515  0.00802457\\n  -0.00170537]]\", \"Y\": \"text/html:<marimo-ui-element object-id='WmLF-3' random-id='1e12deb2-2578-239f-9172-0b027d3200af'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;[{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:2},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5}]&quot;' data-total-rows='4880' data-total-columns='1' data-max-columns='50' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;grade&quot;,[&quot;integer&quot;,&quot;int64&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'></marimo-table></marimo-ui-element>\"}, \"down\": {\"X\": \"text/plain:[[ 0.01970844  0.00614262 -0.02506353 ... -0.00523631 -0.02614829\\n   0.03749774]\\n [ 0.00878296  0.00044033 -0.03430938 ... -0.01532503  0.00564535\\n   0.00175488]\\n [ 0.01043154 -0.00935293 -0.04904088 ...  0.00796896 -0.00789776\\n   0.00733419]\\n ...\\n [ 0.03575255 -0.01301485 -0.03397812 ...  0.00892027 -0.04399753\\n  -0.00612547]\\n [ 0.01693191 -0.01896201 -0.02698346 ... -0.00571432 -0.01131742\\n   0.03195509]\\n [ 0.01148768  0.00046198 -0.07065699 ...  0.00233425 -0.00597816\\n  -0.01109782]]\", \"Y\": \"text/html:<marimo-ui-element object-id='WmLF-4' random-id='d278f863-467b-c421-0aa5-3265971c253f'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;[{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1}]&quot;' data-total-rows='316' data-total-columns='1' data-max-columns='50' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;grade&quot;,[&quot;integer&quot;,&quot;int64&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'></marimo-table></marimo-ui-element>\"}, \"down_up\": {\"X\": \"text/plain:[[ 0.00878296  0.00044033 -0.03430938 ... -0.01532503  0.00564535\\n   0.00175488]\\n [ 0.01043154 -0.00935293 -0.04904088 ...  0.00796896 -0.00789776\\n   0.00733419]\\n [-0.00331837  0.01393187 -0.04259517 ...  0.01733585 -0.01565742\\n   0.00848328]\\n ...\\n [ 0.01358635 -0.01470187 -0.04658746 ... -0.00753916 -0.02161673\\n   0.00253324]\\n [ 0.04473555 -0.00946111 -0.04343536 ... -0.01726497 -0.02066194\\n   0.01737745]\\n [ 0.04185797  0.00061778 -0.04781296 ... -0.00135924 -0.0092752\\n  -0.00098704]]\", \"Y\": \"text/html:<marimo-ui-element object-id='WmLF-5' random-id='83cd6fe7-1bd7-d4ba-a3f8-3737ce9a25a5'><marimo-table data-initial-value='[]' data-label='null' data-data='&quot;[{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:2},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:1},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5},{&#92;&quot;grade&#92;&quot;:5}]&quot;' data-total-rows='4880' data-total-columns='1' data-max-columns='50' data-banner-text='&quot;&quot;' data-pagination='true' data-page-size='10' data-field-types='[[&quot;grade&quot;,[&quot;integer&quot;,&quot;int64&quot;]]]' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='false' data-lazy='false' data-preload='false'></marimo-table></marimo-ui-element>\"}, \"source\": {\"X\": \"text/plain:[[ 0.00878296  0.00044033 -0.03430938 ... -0.01532503  0.00564535\\n   0.00175488]\\n [ 0.01043154 -0.00935293 -0.04904088 ...  0.00796896 -0.00789776\\n   0.00733419]\\n [-0.00331837  0.01393187 -0.04259517 ...  0.01733585 -0.01565742\\n   0.00848328]\\n ...\\n [ 0.03000714  0.00653052 -0.02933022 ...  0.00360573  0.01362465\\n   0.00220642]\\n [ 0.01859291 -0.00330792 -0.05474515 ...  0.01283017 -0.01597589\\n   0.00191511]\\n [ 0.01131462 -0.00263236 -0.06675249 ...  0.01476972 -0.00699599\\n  -0.02524169]]\", \"Y\": \"text/plain:[1 1 2 ... 1 1 1]\"}}}"}, "type": "data"}]}, {"code_hash": "e1fb2ddf2e4a57adfaa65966aa3dc106", "console": [], "id": "TmSl", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "6474707579f5b7ecd6de9afc19a584fd", "console": [], "id": "BYtC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "41ef2e6cf012eef3108145a885075774", "console": [{"name": "stderr", "text": "/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n", "type": "stream"}, {"name": "stderr", "text": "/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n", "type": "stream"}, {"name": "stderr", "text": "/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n", "type": "stream"}, {"name": "stderr", "text": "/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n", "type": "stream"}, {"name": "stderr", "text": "/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n", "type": "stream"}, {"name": "stderr", "text": "/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n/Users/mikhailtsvirkunov/Programming/Adera/ml_ldt_2025_repository/analization/.venv/lib/python3.11/site-packages/sklearn/metrics/_classification.py:1731: UndefinedMetricWarning:\n\nPrecision is ill-defined and being set to 0.0 in labels with no predicted samples. Use `zero_division` parameter to control this behavior.\n\n", "type": "stream"}], "id": "RGSE", "outputs": [{"data": {"text/html": "<div style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'><marimo-progress data-title='&quot;&quot;' data-total='4' data-progress='4' data-rate='0.03' data-eta='0.0'></marimo-progress><marimo-progress data-title='&quot;&quot;' data-total='4' data-progress='4' data-rate='0.02' data-eta='0.0'></marimo-progress></div>"}, "type": "data"}]}, {"code_hash": "5e9066f89235c63ffeef111f584f4c82", "console": [{"name": "stdout", "text": "## deepvk/USER-base | up\n\n              precision    recall  f1-score   support\n\n           1       0.81      0.98      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151\n\n    accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544               precision    recall  f1-score   support\n\n           1       0.81      0.98      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151\n\n    accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544\n\n\n## deepvk/USER-base | down            1       0.81      0.98      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151\n\n    accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544\n\n\n## deepvk/USER-base | down\n\n              precision    recall  f1-score   support     accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544\n\n\n## deepvk/USER-base | down\n\n              precision    recall  f1-score   support\n\n           1       0.81      0.98      0.89       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151 \n## deepvk/USER-base | down\n\n              precision    recall  f1-score   support\n\n           1       0.81      0.98      0.89       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151\n\n    accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544               precision    recall  f1-score   support\n\n           1       0.81      0.98      0.89       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151\n\n    accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544\n\n\n## deepvk/USER-base | down_up            1       0.81      0.98      0.89       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151\n\n    accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544\n\n\n## deepvk/USER-base | down_up\n\n              precision    recall  f1-score   support     accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544\n\n\n## deepvk/USER-base | down_up\n\n              precision    recall  f1-score   support\n\n           1       0.80      0.97      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.97      0.89      0.93       151 \n## deepvk/USER-base | down_up\n\n              precision    recall  f1-score   support\n\n           1       0.80      0.97      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.97      0.89      0.93       151\n\n    accuracy                           0.83       544\n   macro avg       0.35      0.37      0.36       544\nweighted avg       0.75      0.83      0.78       544               precision    recall  f1-score   support\n\n           1       0.80      0.97      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.97      0.89      0.93       151\n\n    accuracy                           0.83       544\n   macro avg       0.35      0.37      0.36       544\nweighted avg       0.75      0.83      0.78       544\n\n\n## deepvk/USER-base | source\n", "type": "stream"}], "id": "osHq", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "9ac7f4e1ba17a36d41b076c4fef544e9", "console": [], "id": "nwUw", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h2 id=\"deepvkuser-base-up\">deepvk/USER-base | up</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.81      0.98      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151</span>\n<span class=\"paragraph\">accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544</span>\n<h2 id=\"deepvkuser-base-down\">deepvk/USER-base | down</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.81      0.98      0.89       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.95      0.91      0.93       151</span>\n<span class=\"paragraph\">accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544</span>\n<h2 id=\"deepvkuser-base-down_up\">deepvk/USER-base | down_up</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.80      0.97      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.97      0.89      0.93       151</span>\n<span class=\"paragraph\">accuracy                           0.83       544\n   macro avg       0.35      0.37      0.36       544\nweighted avg       0.75      0.83      0.78       544</span>\n<h2 id=\"deepvkuser-base-source\">deepvk/USER-base | source</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.80      0.99      0.89       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.96      0.90      0.93       151</span>\n<span class=\"paragraph\">accuracy                           0.84       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.84      0.79       544</span>\n<h2 id=\"ai-foreversbert_large_nlu_ru-up\">ai-forever/sbert_large_nlu_ru | up</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.81      0.97      0.88       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.96      0.91      0.94       151</span>\n<span class=\"paragraph\">accuracy                           0.83       544\n   macro avg       0.35      0.38      0.36       544\nweighted avg       0.75      0.83      0.79       544</span>\n<h2 id=\"ai-foreversbert_large_nlu_ru-down\">ai-forever/sbert_large_nlu_ru | down</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.82      0.91      0.87       325\n           2       0.20      0.05      0.08        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.83      0.93      0.88       151</span>\n<span class=\"paragraph\">accuracy                           0.81       544\n   macro avg       0.37      0.38      0.36       544\nweighted avg       0.74      0.81      0.77       544</span>\n<h2 id=\"ai-foreversbert_large_nlu_ru-down_up\">ai-forever/sbert_large_nlu_ru | down_up</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.81      0.97      0.88       325\n           2       0.08      0.02      0.04        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.97      0.92      0.94       151</span>\n<span class=\"paragraph\">accuracy                           0.84       544\n   macro avg       0.37      0.38      0.37       544\nweighted avg       0.76      0.84      0.79       544</span>\n<h2 id=\"ai-foreversbert_large_nlu_ru-source\">ai-forever/sbert_large_nlu_ru | source</h2>\n<span class=\"paragraph\">precision    recall  f1-score   support</span>\n<span class=\"paragraph\">1       0.80      1.00      0.89       325\n           2       0.00      0.00      0.00        43\n           3       0.00      0.00      0.00        14\n           4       0.00      0.00      0.00        11\n           5       0.97      0.91      0.94       151</span>\n<span class=\"paragraph\">accuracy                           0.85       544\n   macro avg       0.36      0.38      0.37       544\nweighted avg       0.75      0.85      0.79       544</span></span>"}, "type": "data"}]}, {"code_hash": "69e91d9ae919a1f519c41b706d8064e2", "console": [], "id": "klGn", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u041d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043b\u0443\u0447\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u043e\u043a\u0430\u0437\u0430\u043b\u0430\u0441\u044c \u0443 </span></span>"}, "type": "data"}]}, {"code_hash": "ae082cce8ae9c57025372884dcf4c36b", "console": [], "id": "Hstk", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}], "metadata": {"marimo_version": "0.16.0"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.16.0%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20import%20plotly.express%20as%20pex%0A%20%20%20%20from%20sklearn.metrics%20import%20classification_report%0A%20%20%20%20from%20time%20import%20monotonic%0A%0A%20%20%20%20import%20polars%20as%20pl%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20from%20sklearn.model_selection%20import%20train_test_split%0A%0A%20%20%20%20import%20spacy%0A%20%20%20%20from%20sentence_transformers%20import%20SentenceTransformer%0A%20%20%20%20from%20catboost%20import%20CatBoostClassifier%2C%20CatBoostRegressor%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20CatBoostClassifier%2C%0A%20%20%20%20%20%20%20%20SentenceTransformer%2C%0A%20%20%20%20%20%20%20%20classification_report%2C%0A%20%20%20%20%20%20%20%20mo%2C%0A%20%20%20%20%20%20%20%20np%2C%0A%20%20%20%20%20%20%20%20pex%2C%0A%20%20%20%20%20%20%20%20pl%2C%0A%20%20%20%20%20%20%20%20train_test_split%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20EMBEDDINGS_MODEL_NAMES%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%22deepvk%2FUSER-base%22%2C%0A%20%20%20%20%20%20%20%20%22ai-forever%2Fsbert_large_nlu_ru%22%2C%0A%20%20%20%20%5D%0A%20%20%20%20mo.md('%D0%91%D1%8B%D0%BB%D0%B8%20%D1%80%D0%B0%D1%81%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B5%D0%BD%D0%BD%D1%8B%20%D1%81%D0%BB%D0%B5%D0%B4%D1%83%D1%8E%D1%89%D0%B8%D0%B5%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D0%B8%20%D1%8D%D0%BC%D0%B1%D0%B5%D0%B4%D0%B8%D0%BD%D0%B3%D0%BE%D0%B2%5Cn%5Cn'%20%2B%20'%5Cn'.join(f%22-%20%7Bi%7D%22%20for%20i%20in%20EMBEDDINGS_MODEL_NAMES))%0A%20%20%20%20return%20(EMBEDDINGS_MODEL_NAMES%2C)%0A%0A%0A%40app.cell%0Adef%20_(EMBEDDINGS_MODEL_NAMES%2C%20SentenceTransformer)%3A%0A%20%20%20%20def%20sentence_transformers_vectorizer(texts%2C%20model%3A%20SentenceTransformer)%3A%0A%20%20%20%20%20%20%20%20return%20model.encode(texts%2C%20normalize_embeddings%3DTrue%2C%20prompt_name%3D'document'%2C%20convert_to_numpy%3DTrue)%0A%0A%20%20%20%20SENTENCE_TRANSFORMERS_MODELS_DICT%20%3D%20dict(zip(EMBEDDINGS_MODEL_NAMES%2C%20map(SentenceTransformer%2C%20EMBEDDINGS_MODEL_NAMES)))%0A%0A%20%20%20%20return%20SENTENCE_TRANSFORMERS_MODELS_DICT%2C%20sentence_transformers_vectorizer%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md('%D0%92%D0%BE%D0%B7%D0%BC%D1%91%D0%BC%20%D1%8D%D0%B2%D1%80%D0%B8%D1%81%D1%82%D0%B8%D0%BA%D1%83%2C%20%D1%87%D1%82%D0%BE%20%D1%80%D1%8D%D0%B9%D1%82%D0%B8%D0%BD%D0%B3%3D%D0%B4%D0%BE%D0%B2%D0%BE%D0%BB%D1%8C%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82%D0%B0')%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(pl)%3A%0A%20%20%20%20DATA%20%3D%20pl.read_csv('..%2FDATA%2Ffull_dataset_banki_ru.csv')%0A%20%20%20%20USEFULL_DATA%20%3D%20DATA%5B%3A%2C%20%5B'text'%2C%20'grade'%5D%5D%0A%20%20%20%20return%20DATA%2C%20USEFULL_DATA%0A%0A%0A%40app.cell%0Adef%20_(DATA%2C%20pex)%3A%0A%20%20%20%20pex.histogram(DATA%5B'grade'%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md('%D0%9A%D0%B0%20%D0%B2%D0%B8%D0%B4%D0%BD%D0%BE%20%D0%B8%D0%B7%20%D1%81%D1%82%D0%BE%D0%BB%D0%B1%D1%87%D0%B0%D1%82%D0%BE%D0%B9%20%D0%B4%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D1%8B%2C%20%D0%B5%D1%81%D1%82%D1%8C%20%D1%81%D0%B8%D0%BB%D0%BD%D1%8B%D0%B9%20%D0%B4%D0%B8%D1%81%D0%B1%D0%B0%D0%BB%D0%B0%D0%BD%D1%81%20%D0%B2%20%D0%BD%D0%B5%D0%B4%D0%BE%D0%B2%D0%BE%D0%BB%D1%8C%D1%81%D1%82%D0%B2%D0%BE')%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md('%23%20**%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%BC%D1%8B%20%D0%B4%D0%B8%D1%81%D0%B1%D0%B0%D0%BB%D0%B0%D0%BD%D1%81%D0%B0**')%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%D0%94%D0%BB%D1%8F%20%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F%20%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%B2%D0%BE%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC%D1%81%D1%8F%20stratify'%D0%BD%D1%83%D1%82%D1%8B%D0%BC%20%D1%80%D0%B0%D0%B7%D0%B1%D0%B8%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC%20%D0%BD%D0%B0%20%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D0%BA%D0%B8%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(USEFULL_DATA%2C%20train_test_split)%3A%0A%20%20%20%20X%2C%20Y%20%3D%20USEFULL_DATA%5B'text'%5D%2C%20USEFULL_DATA%5B'grade'%5D%0A%20%20%20%20X_train%2C%20X_test%2C%20Y_train%2C%20Y_test%20%3D%20train_test_split(X%2C%20Y%2C%20stratify%3DY)%0A%20%20%20%20return%20X_test%2C%20X_train%2C%20Y_test%2C%20Y_train%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20SENTENCE_TRANSFORMERS_MODELS_DICT%2C%0A%20%20%20%20X_test%2C%0A%20%20%20%20X_train%2C%0A%20%20%20%20sentence_transformers_vectorizer%2C%0A)%3A%0A%20%20%20%20VECTORIZED_X_train%20%3D%20%7B%0A%20%20%20%20%20%20%20%20i%3A%20sentence_transformers_vectorizer(model%3Dm%2Ctexts%3DX_train)%20for%20i%2C%20m%20in%20SENTENCE_TRANSFORMERS_MODELS_DICT.items()%0A%20%20%20%20%7D%0A%0A%20%20%20%20VECTORIZED_X_test%20%3D%20%7B%0A%20%20%20%20%20%20%20%20i%3A%20sentence_transformers_vectorizer(model%3Dm%2Ctexts%3DX_test)%20for%20i%2C%20m%20in%20SENTENCE_TRANSFORMERS_MODELS_DICT.items()%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20VECTORIZED_X_test%2C%20VECTORIZED_X_train%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%D0%A0%D0%B0%D1%81%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D0%BC%20%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BE%D0%B2%20%D1%81%D0%B1%D0%B0%D0%BB%D0%B0%D0%BD%D1%81%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D0%BA%D1%83%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20from%20imblearn.under_sampling%20import%20CondensedNearestNeighbour%2C%20RandomUnderSampler%0A%20%20%20%20from%20imblearn.over_sampling%20import%20SMOTE%2C%20RandomOverSampler%0A%20%20%20%20return%20CondensedNearestNeighbour%2C%20SMOTE%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20plotly.graph_objects%20as%20go%0A%20%20%20%20from%20plotly.subplots%20import%20make_subplots%0A%20%20%20%20return%20go%2C%20make_subplots%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20CondensedNearestNeighbour%2C%0A%20%20%20%20EMBEDDINGS_MODEL_NAMES%2C%0A%20%20%20%20SMOTE%2C%0A%20%20%20%20VECTORIZED_X_train%2C%0A%20%20%20%20Y_train%2C%0A%20%20%20%20go%2C%0A%20%20%20%20make_subplots%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20pl%2C%0A)%3A%0A%20%20%20%20def%20generate_resamples()%3A%0A%20%20%20%20%20%20%20%20resampings%20%3D%20dict()%0A%20%20%20%20%20%20%20%20figs%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20make_subplots(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cols%3D1%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rows%3D4%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20subplot_titles%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'Down-%D1%81%D1%8D%D0%BC%D0%BF%D0%BB%D0%B8%D0%BD%D0%B3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'Down-Up-%D1%81%D1%8D%D0%BC%D0%BF%D0%BB%D0%B8%D0%BD%D0%B3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'Up-%D1%81%D1%8D%D0%BC%D0%BF%D0%BB%D0%B8%D0%BD%D0%B3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'Source'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20vertical_spacing%3D0.1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20).update_layout(height%3D1800)%20for%20_%20in%20EMBEDDINGS_MODEL_NAMES%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20for%20k%2C%20i%20in%20enumerate(EMBEDDINGS_MODEL_NAMES)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20X_up%2C%20Y_up%20%3D%20SMOTE(sampling_strategy%3D'not%20majority').fit_resample(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20VECTORIZED_X_train%5Bi%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y_train.reshape(%5B-1%2C%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20X_down%2C%20Y_down%20%3D%20CondensedNearestNeighbour(sampling_strategy%3D'not%20minority').fit_resample(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20VECTORIZED_X_train%5Bi%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y_train.reshape(%5B-1%2C%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20X_down_up%2C%20Y_down_up%20%3D%20SMOTE(k_neighbors%3D5%2C%20sampling_strategy%3D'all').fit_resample(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20VECTORIZED_X_train%5Bi%5D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Y_train.reshape(%5B-1%2C%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20resampings%5Bi%5D%20%3D%20dict(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20up%3Ddict(X%3DX_up%2CY%3DY_up)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20down%3Ddict(X%3DX_down%2CY%3DY_down)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20down_up%3Ddict(X%3DX_down_up%2CY%3DY_down_up)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20source%3Ddict(X%3DVECTORIZED_X_train%5Bi%5D%2C%20Y%3DY_train.to_numpy())%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20figs%5Bk%5D%20%3D%20figs%5Bk%5D.add_trace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20go.Bar(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20pl.Series(Y_down).value_counts()%5B'count'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3Dpl.Series(Y_down).value_counts()%5B'grade'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%20col%3D1%2C%20row%3D1%0A%20%20%20%20%20%20%20%20%20%20%20%20).add_trace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20go.Bar(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20pl.Series(Y_down_up).value_counts()%5B'count'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3Dpl.Series(Y_down_up).value_counts()%5B'grade'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%20col%3D1%2C%20row%3D2%0A%20%20%20%20%20%20%20%20%20%20%20%20).add_trace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20go.Bar(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20pl.Series(Y_up).value_counts()%5B'count'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3Dpl.Series(Y_up).value_counts()%5B'grade'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%20col%3D1%2C%20row%3D3%0A%20%20%20%20%20%20%20%20%20%20%20%20).add_trace(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20go.Bar(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20pl.Series(Y_train).value_counts()%5B'count'%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3Dpl.Series(Y_train).value_counts()%5B'grade'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%20col%3D1%2C%20row%3D4%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20return%20resampings%2C%20mo.hstack(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f'%23%23%7Bn%7D')%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.ui.plotly(f)%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D)%20for%20n%2C%20f%20in%20zip(EMBEDDINGS_MODEL_NAMES%2C%20figs)%0A%20%20%20%20%20%20%20%20%5D)%0A%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20return%20(generate_resamples%2C)%0A%0A%0A%40app.cell%0Adef%20_(generate_resamples)%3A%0A%20%20%20%20RESAMPLES%2C%20BAR_RESAMP%20%3D%20generate_resamples()%0A%20%20%20%20return%20BAR_RESAMP%2C%20RESAMPLES%0A%0A%0A%40app.cell%0Adef%20_(BAR_RESAMP)%3A%0A%20%20%20%20BAR_RESAMP%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(RESAMPLES)%3A%0A%20%20%20%20RESAMPLES%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20from%20tqdm.notebook%20import%20tqdm%0A%20%20%20%20return%20(tqdm%2C)%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20CatBoostClassifier%2C%0A%20%20%20%20RESAMPLES%2C%0A%20%20%20%20VECTORIZED_X_test%2C%0A%20%20%20%20Y_test%2C%0A%20%20%20%20classification_report%2C%0A%20%20%20%20np%2C%0A%20%20%20%20tqdm%2C%0A)%3A%0A%20%20%20%20def%20make_experements()%3A%0A%20%20%20%20%20%20%20%20results%20%3D%20dict()%0A%20%20%20%20%20%20%20%20report%20%3D%20''%0A%20%20%20%20%20%20%20%20for%20embeder%2C%20samples%20in%20RESAMPLES.items()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20sample_type%2C%20data%20in%20tqdm(samples.items())%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%2C%20y%20%3D%20data%5B'X'%5D%2C%20data%5B'Y'%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cbm%20%3D%20CatBoostClassifier(metric_period%3D20%2Cverbose%3DFalse).fit(x%2C%20y)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20yp%20%3D%20cbm.predict(VECTORIZED_X_test%5Bembeder%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%20%3D%20f'%7Bembeder%7D%20%7C%20%7Bsample_type%7D'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20report%20%2B%3D%20f'%23%23%20%7Bname%7D%5Cn%5Cn'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20report%20%2B%3D%20classification_report(Y_test.to_list()%2C%20np.array(yp).reshape(-1).tolist())%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20report%20%2B%3D%20'%5Cn%5Cn'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20results%5Bname%5D%20%3D%20cbm%0A%20%20%20%20%20%20%20%20return%20results%2C%20report%0A%20%20%20%20return%20(make_experements%2C)%0A%0A%0A%40app.cell%0Adef%20_(make_experements)%3A%0A%20%20%20%20RESULTS%2C%20report%20%3D%20make_experements()%0A%20%20%20%20return%20RESULTS%2C%20report%0A%0A%0A%40app.cell%0Adef%20_(report)%3A%0A%20%20%20%20print(*(report.split('%5Cn%5Cn')%5Bk%5D%20%2B%20'%5Cn%5Cn'%20%2B%20'%5Cn%5Cn'.join(report.split('%5Cn%5Cn')%5Bk%2B1%3Ak%2B4%5D)%20for%20k%20in%20range(10)))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20report)%3A%0A%20%20%20%20mo.md(report)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%D0%9D%D0%B0%D0%B8%D0%B1%D0%BE%D0%BB%D0%B5%D0%B5%20%D0%BB%D1%83%D1%87%D0%B0%D1%8F%20%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BE%D0%BA%D0%B0%D0%B7%D0%B0%D0%BB%D0%B0%D1%81%D1%8C%20%D1%83%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(RESULTS)%3A%0A%20%20%20%20RESULTS%5B'deepvk%2FUSER-base%20%7C%20down'%5D.save_model('.%2Fcb_model')%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">68b183aaab83e08a2a81e429a09f30276ad84d8f37e2cd13cbf5caed565b770a</marimo-code-hash>
</body>
</html>
